***Объектно-ориентированное программирование: наследование***

Когда кода начинает становиться всё больше и больше, нужно его как-то структурировать, выделять общие части и организовывать связь между ними. Два главных способа выделения общих частей: наследование и композиция.

Наследование мы используем для создания частного поведения на основании более общих классов: например, у нас может быть класс Department (отдел), с общими методами «учёта сотрудников и начисления им зарплаты», и его наследники — классы ITDepartment, PRDepartment, FinanceDepartment, реализующие функционал, специфический для каждого отдела.

***Что***

Начнём это задание с освоения тестирования кода, и в частности разработки через тестирование — дальше кода уже будет слишком много, чтобы проверять его «глазами», просто работает/не работает.

Потом создадим несколько классов-наследников, которые делают немного более интересные вещи, чем просто хранят фильмы. Конечно, этот пример немного «игрушечный» (мы создадим классы-кинотеатры, но посмотреть в них фильмы будет немного затруднительно!), но зато очень понятный и похож на тот, что решает реальные задачи.

***Задачи***

Установить гем `rspec` и каждый следующий шаг начинать с написания спек на функциональность — и только потом начинать эту функциональность реализовывать.

Создадим два разных класса для просмотра фильмов `Netflix` (онлайн-кинотеатр) и `Theatre` — обычный кинотеатр:
у каждого класса пусть будет метод show — показать мне кино; мы притворимся, что у нас «настоящие» сервисы (которые по команде «отобразить фильм» делают что-то сложное), пусть пока просто печатают `«Now showing: (название выбранного кина) (время начала) - (время окончания)»`

Все фильмы делятся на 4 типа (и от этого зависит как выводится описание фильма — смотря по тому, что является самым интересным в фильмах того периода):
- AncientMovie (фильм 1900-1945): «Название — старый фильм (1936 год)»;
- ClassicMovie (1945-1968): «Название — классический фильм, режиссёр такой-то (ещё 10 его фильмов в спике)»
- ModernMovie (1968-2000): «Название — современное кино: играют Шварценеггер, Шарон Стоун»;
- NewMovie (2000 по сегодняшний день): «Название — новинка, вышло N лет назад!»

Онлайн-кинотеатр работает так:

- в метод show можно передать фильтры, например `netflix.show(genre: 'Comedy', period: :classic)` — выберет только классические комедии;
в объект можно положить денег (например `netflix.pay(25)`;
- при каждом вызове `show` снимается разное количество денег (1, 1.5, 3, 5 долларов в зависимости от типа фильма, описанного выше); когда денег не хватает на то чтобы посмотреть фильм — прилетает исключение;
- можно спросить, сколько стоит нужное кино: `netflix.how_much?('The Terminator')`;

Обычный кинотеатр работает так:

- в метод show можно передать время, в которое вы хотите посмотреть кино; и в зависимости от этого утром будут старые фильмы, днём — комедии и приключения; вечером — драмы и ужастики;
- можно спросить, когда можно посмотреть нужное кино: theater.when?('The Terminator');

***(маленькое усложнение)*** Кстати, при любом случайном выборе фильмы с бОльшим рейтингом должны выбираться с бОльшей вероятностью (но не жёстко «только фильм с наибольшим рейтингом»).
Ресурсы

*ООП*:

http://ruby.bastardsbook.com/chapters/oops/
http://rubylearning.com/satishtalim/ruby_inheritance.html
https://en.wikipedia.org/wiki/Object-oriented_programming#Design_patterns
http://www.gotealeaf.com/books/oo_ruby/read/inheritance
http://www.tutorialspoint.com/ruby/ruby_object_oriented.htm

*rspec*:

http://rspec.info/documentation/3.4/rspec-core/
http://betterspecs.org/ru/

Вопросы

- Зачем нужно наследование?
- Можно ли в наследниках заново определить методы родителя? Как при этом использовать И родительский метод тоже?
- Как определить, какого класса перед нами переменная? Как вызвать различные действия в зависимости от класса переменной?
